{
  "openapi": "3.1.0",
  "info": {
    "title": "Vignette ID Partner API",
    "description": "Documentation describes the possibilities of connecting to the platform **Vignette ID** for the possibility of paying for the motorway in 9 European countries. \n\n [More about supported countries](/docs/routes/vignette-covered-countries) \n\n [Get access to sandbox](https://e-vignettes.eu/en/partner)",
    "contact": {
      "name": "API Support",
      "email": "work+api+support@vignette.id"
    },
    "version": "1.0.0"
  },
  "security": [
    {
      "basic-auth": []
    },
    {
      "x-rh-identity": []
    },
    {
      "x-rh-sources-org-id": []
    },
    {
      "x-rh-sources-account-number": []
    }
  ],
  "tags": [
    {
      "name": "Products List Endpoints",
      "description": "Endpoints for interacting with products."
    },
    {
      "name": "Users List Endpoints",
      "description": "Endpoints for interacting with Users."
    },
    {
      "name": "Orders List Endpoints",
      "description": "Endpoints for interacting with orders."
    },
    {
      "name": "Extended List Endpoints",
      "description": "Extended endpoints."
    }
  ],
  "components": {
    "securitySchemes": {
      "basic-auth": {
        "description": "Basic authentication. Required for the \"stage\" and \"production\" environments",
        "scheme": "basic",
        "type": "http"
      },
      "x-rh-identity": {
        "description": "Base64 encoded XRHID header's value",
        "in": "header",
        "name": "x-rh-identity",
        "type": "apiKey"
      },
      "x-rh-sources-account-number": {
        "description": "EBS account number to identify the tenant. Warning: it's being deprecated",
        "in": "header",
        "name": "x-rh-sources-account-number",
        "type": "apiKey"
      },
      "x-rh-sources-org-id": {
        "description": "OrgId value to identify the tenant",
        "in": "header",
        "name": "x-rh-sources-org-id",
        "type": "apiKey"
      }
    },
    "parameters": {
      "UserId": {
        "name": "id",
        "in": "path",
        "description": "ID of user",
        "required": true,
        "schema": {
          "example": "6jgjhqqk58",
          "type": "string"
        }
      },
      "OrderIdOrCustomId": {
        "name": "id",
        "in": "path",
        "description": "`id` of order in Vignette ID system or `custom_id` from Partner system",
        "required": true,
        "schema": {
          "example": "x2urgt1kt2",
          "type": "string"
        }
      },
      "pagination": {
        "name": "page",
        "in": "query",
        "required": false,
        "schema": {
          "example": 5,
          "type": "number"
        }
      },
      "country": {
        "name": "country",
        "in": "query",
        "description": "Returns filtered products by `country`. \n Supported countries `at`, `ch`, `si`, `hu`, `sk` , `cz`, `ro`, `bg`, `md` ",
        "required": false,
        "schema": {
          "example": "at",
          "type": "string"
        }
      },
      "type": {
        "name": "type",
        "in": "query",
        "description": "Returns filtered products by `type`. \n Supported types `vignette`, `tunnel`",
        "required": false,
        "schema": {
          "example": "vignette",
          "type": "string"
        }
      },
      "currency": {
        "name": "currency",
        "in": "query",
        "description": "Return price of products in selected currency with the included individual commission for the partner. \n Supported currencies `EUR`, `UAH`, `USD`, `PLN`, `HUF` and more ",
        "required": false,
        "schema": {
          "example": "UAH",
          "default": "EUR",
          "type": "string"
        }
      },
      "status": {
        "name": "status",
        "in": "query",
        "description": "Returns filtered orders by `status`. \n\n **• Statuses** \n\n Each vignette can have one of the statuses: \n `PENDING`, `WILL BE ACTIVE`, `ACTIVE`, `EXPIRED`, `REFUNDED`, `DELETED` \n\n [More about status list.](/docs/routes/statuses)",
        "required": false,
        "schema": {
          "example": "pending",
          "type": "string"
        }
      },
      "BugReport": {
        "name": "bug_report",
        "in": "query",
        "description": "Use with all endpoints to inform us for bugs in API ",
        "required": false,
        "schema": {
          "example": "true",
          "default": "false",
          "type": "boolean"
        }
      }
    },
    "schemas": {
      "AllProductsObject": {
        "type": "object",
        "properties": {
          "error": {
            "type": "null"
          },
          "result": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "title": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "color": {
                "type": "string"
              },
              "country": {
                "type": "string"
              },
              "priority": {
                "type": "number"
              },
              "price": {
                "type": "object",
                "additionalProperties": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "number"
                    },
                    "currency": {
                      "type": "string"
                    }
                  }
                }
              },
              "restrictions": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              }
            }
          }
        },
        "examples": [
          {
            "error": null,
            "result": [
              {
                "name": "vignette-ro-2a",
                "title": "Vignette 2A",
                "icon": "https://vignette.id/img/cars/car.svg",
                "color": "blue",
                "country": "ro",
                "priority": 1,
                "price": {
                  "7": {
                    "total_price": 6,
                    "government_price": 3,
                    "partner_fee": 3,
                    "currency": "EUR"
                  }
                },
                "restrictions": {
                  "height": "< 1.3 m",
                  "weight": "≤ 3.5 T"
                }
              },
              {
                "name": "vignette-cz-2a",
                "title": "Vignette 2A",
                "icon": "https://vignette.id/img/cars/car.svg",
                "color": "blue",
                "country": "cz",
                "priority": 1,
                "price": {
                  "10": {
                    "total_price": 16,
                    "government_price": 13,
                    "partner_fee": 3,
                    "currency": "EUR"
                  },
                  "30": {
                    "total_price": 21.9,
                    "government_price": 18.9,
                    "partner_fee": 3,
                    "currency": "EUR"
                  },
                  "365": {
                    "total_price": 66.5,
                    "government_price": 63.5,
                    "partner_fee": 3,
                    "currency": "EUR"
                  }
                },
                "restrictions": {
                  "height": "—",
                  "weight": "≤ 3.5 T"
                }
              }
            ]
          }
        ]
      },
      "ProductsStatusObject": {
        "type": "object",
        "properties": {
          "error": {
            "type": "null"
          },
          "result": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "country": {
                  "type": "string"
                },
                "status": {
                  "type": "string"
                },
                "products": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "title": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "examples": [
          {
            "error": null,
            "result": [
              {
                "country": "cz",
                "status": "active",
                "products": [
                  {
                    "name": "vignette-cz-2a",
                    "title": "Vignette 2A",
                    "type": "vignette",
                    "status": "active"
                  },
                  {
                    "name": "vignette-cz-2b",
                    "title": "Vignette 2B",
                    "type": "vignette",
                    "status": "active"
                  }
                ]
              },
              {
                "country": "ro",
                "status": "active",
                "products": [
                  {
                    "name": "vignette-ro-2a",
                    "title": "Vignette 2A",
                    "type": "vignette",
                    "status": "active"
                  },
                  {
                    "name": "vignette-ro-2b",
                    "title": "Vignette 2B",
                    "type": "vignette",
                    "status": "active"
                  }
                ]
              }
            ]
          }
        ]
      },
      "AllUsersObject": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "created_date": {
            "type": "number"
          }
        },
        "examples": [
          {
            "error": null,
            "pages": {
              "total": 1,
              "current": 1
            },
            "result": [
              {
                "id": "6jgjhqqk58",
                "email": "techny@gmail.com",
                "created_date": 1685725115
              },
              {
                "id": "cxarnt70jt",
                "email": "test@example.com",
                "created_date": 1685725115
              },
              {
                "id": "l1arxs73st",
                "email": "info@intaxi.si",
                "created_date": 1685725115
              }
            ]
          }
        ]
      },
      "UserNotFoundError": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            }
          }
        },
        "example": {
          "error": null,
          "result": {
            "type": "user_not_found",
            "message": "User does not exists"
          }
        }
      },
      "AllUserOrdersObject": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          }
        },
        "examples": [
          {
            "error": null,
            "pages": {
              "total": 1,
              "current": 1
            },
            "result": [
              {
                "id": "x2urgt1kt2",
                "custom_id": "4911612692792",
                "user_id": "947awo1z4c",
                "cars": [
                  {
                    "plate": "AA4544AA",
                    "country": "ua",
                    "provider_id": "213308221128414692867",
                    "pdf": "https://vignette.id/invoices/pdf/55729_awz4c1bawh_ext.pdf"
                  },
                  {
                    "plate": "BA4544XX",
                    "country": "ua",
                    "provider_id": "213308221928414692867",
                    "pdf": "https://vignette.id/invoices/pdf/55729_awz4c1bawh_ext.pdf"
                  }
                ],
                "purchase_date": 1692692847,
                "start_date": 1692655200,
                "end_date": 1693519199,
                "period": "10",
                "type": "vignette",
                "country": "hu",
                "status": "ACTIVE",
                "receipt": "https://vignette.id/invoices/pdf/55729_awz4c1bawh.pdf"
              },
              {
                "id": "m3lkr23ypd",
                "custom_id": "4902692691867",
                "user_id": "111awo2z1c",
                "cars": [
                  {
                    "plate": "C022KRU",
                    "country": "ro",
                    "provider_id": "T4LXSNL",
                    "pdf": "https://vignette.id/invoices/pdf/55725_byc2x8jyhn_ext.pdf"
                  }
                ],
                "purchase_date": 1692691932,
                "start_date": 1692655200,
                "end_date": 1693519199,
                "period": "10",
                "type": "vignette",
                "country": "cz",
                "status": "ACTIVE",
                "receipt": "https://vignette.id/invoices/pdf/55725_2gkkz18cn75.pdf"
              }
            ]
          }
        ]
      },
      "OrderResult": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "1k99i2ddy6"
          },
          "custom_id": {
            "type": "string",
            "example": "partner-000001"
          },
          "currency": {
            "type": "string",
            "example": "UAH"
          },
          "profit": {
            "type": "number",
            "example": 2.55
          }
        }
      },
      "ResponseOrderObject": {
        "type": "object",
        "properties": {
          "error": {
            "type": "null"
          },
          "result": {
            "type": "object",
            "properties": {
              "user_id": {
                "type": "string",
                "example": "j28ho77yuh"
              },
              "orders": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/OrderResult"
                }
              }
            }
          }
        },
        "example": {
          "error": null,
          "result": {
            "user_id": "j28ho77yuh",
            "orders": [
              {
                "id": "1k99i2ddy6",
                "custom_id": "partner-000001",
                "currency": "EUR",
                "profit": 2.55
              }
            ],
            "payment_link": "https://vignette.id/payment/order/{custom_id}"
          }
        }
      },
      "ResponseValidatePlateObject": {
        "type": "object",
        "properties": {
          "error": {
            "type": "null"
          },
          "result": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "example": "Vehicle plate is valid"
              }
            }
          }
        },
        "example": {
          "error": null,
          "result": {
            "message": "Vehicle plate is valid"
          }
        }
      },
      "InsertOrderObject": {
        "type": "object",
        "title": "Order Insert Schema",
        "required": [
          "terms_and_privacy_accepted",
          "order_has_been_paid",
          "email",
          "cars",
          "products"
        ],
        "additionalProperties": false,
        "properties": {
          "terms_and_privacy_accepted": {
            "type": "boolean",
            "description": "Must be `true` to indicate that terms and privacy are accepted.",
            "enum": [
              "true"
            ],
            "examples": [
              true
            ]
          },
          "order_has_been_paid": {
            "type": "boolean",
            "description": "• `true` - this means that the partner accepted and processed the payment on his side. \n\n• `false` - to pay for an order, the API generates a link and returns it to the response in `payment_link`, which the partner must display to the user.\n The payment is processed on our side.",
            "enum": [
              "true"
            ],
            "examples": [
              true
            ]
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User's email is mandatory field. By default, any emails from our side are disabled.",
            "examples": [
              "user@gmail.com"
            ]
          },
          "cars": {
            "type": "array",
            "description": "Array of Vehicles with vehicle plate and registration country.",
            "items": {
              "type": "object",
              "required": [
                "plate",
                "country"
              ],
              "properties": {
                "plate": {
                  "type": "string",
                  "description": "Carplate number (vehicle plate)\n\n **Important!** \n Only numbers and Latin characters \n\n **Exception** \n `German` and `Austrian` license plates where the Vehicle number \n must contain **one dash** `-` sign. \n\n [More about Vehicle plate templates](/docs/routes/patterns)",
                  "example": "AA4544AA"
                },
                "vin_code": {
                  "type": "string",
                  "description": "Vehicle vin-code. Required for Romanian 30, 90, 365 days vignettes",
                  "examples": "VWT045FD9812VB341"
                },
                "country": {
                  "type": "string",
                  "description": "Vehicle registration country code. Use **two lowercase**(!) letter code format like `at`, `cz`, `pl`, `ua`... \n\n [More about country codes. IMPORTANT to read](/docs/routes/countries)",
                  "example": "ua"
                }
              }
            }
          },
          "products": {
            "type": "array",
            "description": "Array of vignettes with custom id, name, period, and start date.",
            "items": {
              "type": "object",
              "required": [
                "name",
                "start_date",
                "period"
              ],
              "properties": {
                "custom_id": {
                  "type": "string",
                  "description": "Order id in Partner system",
                  "example": "partnername-000001"
                },
                "name": {
                  "type": "string",
                  "description": "Country of vignette. \n\n To check options - use endpoint [/public/products -> name](/docs/routes#products-list-endpoints)",
                  "example": "vignette-hu-2a"
                },
                "start_date": {
                  "type": "integer",
                  "format": "int64",
                  "description": "Start date of vignette in `UNIX` time in **Europe/Berlin Timezone**",
                  "example": 1690711200
                },
                "period": {
                  "type": [
                    "integer",
                    "string"
                  ],
                  "description": "Period of vignette. Available periods depend on the country. \n Possible options `7`, `10`, `30`, `60`, `90`, `180`, `365` days. \n\n For tunnels you can use `1j`, `2j` and `365`, where `j` mean **journey** \n\n To check options - use endpoint [/public/products -> price](/docs/routes#products-list-endpoints) \n\n [More about country periods](/docs/routes/vignette-covered-countries)",
                  "example": 30
                }
              }
            }
          },
          "interchange_fee": {
            "type": "object",
            "required": [
              "amount",
              "currency"
            ],
            "properties": {
              "amount": {
                "type": "number",
                "description": "Gateway fee",
                "examples": [
                  100,
                  3.14
                ]
              },
              "currency": {
                "type": "string",
                "description": "The fee currency. Available in `EUR`, `UAH`, `PLN`.",
                "examples": [
                  "UAH",
                  "EUR"
                ]
              }
            }
          }
        },
        "examples": [
          {
            "terms_and_privacy_accepted": true,
            "order_has_been_paid": true,
            "email": "user@example.com",
            "cars": [
              {
                "plate": "AA4544AA",
                "vin_code": "VWT045FD9812VB341",
                "country": "ua"
              }
            ],
            "products": [
              {
                "custom_id": "partnername-000001",
                "name": "vignette-si-2a",
                "start_date": 1690711200,
                "period": 30
              }
            ],
            "interchange_fee": {
              "amount": 0.33,
              "currency": "EUR"
            }
          }
        ]
      },
      "OrderObject": {
        "type": "object",
        "properties": {
          "error": {
            "type": "null"
          },
          "result": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "custom_id": {
                "type": "string"
              },
              "user_id": {
                "type": "string"
              },
              "cars": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "plate": {
                      "type": "string"
                    },
                    "country": {
                      "type": "string"
                    },
                    "provider_id": {
                      "type": "string",
                      "description": "Vehicle registration country code. Use two letter code format like `at`, `cz`, `pl`, `ua`... \n\n [More about country codes](/docs/routes/countries)",
                      "example": "J7MH26M"
                    },
                    "pdf": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "plate",
                    "country"
                  ]
                }
              },
              "purchase_date": {
                "type": "integer"
              },
              "start_date": {
                "type": "integer"
              },
              "end_date": {
                "type": "integer"
              },
              "period": {
                "type": [
                  "integer",
                  "string"
                ]
              },
              "type": {
                "type": "string"
              },
              "country": {
                "type": "string"
              },
              "status": {
                "type": "string"
              },
              "receipt": {
                "type": "string"
              }
            }
          }
        },
        "examples": [
          {
            "error": null,
            "pages": {
              "total": 1,
              "current": 1
            },
            "result": [
              {
                "id": "m3lkr23ypd",
                "custom_id": "4902692691867",
                "user_id": "111awo2z1c",
                "cars": [
                  {
                    "plate": "C022KRU",
                    "country": "ro",
                    "provider_id": "T4LXSNL",
                    "pdf": "https://vignette.id/invoices/pdf/55725_byc2x8jyhn_ext.pdf"
                  }
                ],
                "purchase_date": 1692691932,
                "start_date": 1692655200,
                "end_date": 1693519199,
                "period": "10",
                "type": "vignette",
                "country": "cz",
                "status": "ACTIVE",
                "receipt": "https://vignette.id/invoices/pdf/55725_2gkkz18cn75.pdf"
              }
            ]
          }
        ]
      },
      "AllOrdersObject": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "created_date": {
            "type": "number"
          }
        },
        "examples": [
          {
            "error": null,
            "pages": {
              "total": 1,
              "current": 1
            },
            "result": [
              {
                "id": "x2urgt1kt2",
                "custom_id": "4911612692792",
                "user_id": "947awo1z4c",
                "cars": [
                  {
                    "plate": "AA4544AA",
                    "country": "ua",
                    "provider_id": "213308221128414692867",
                    "pdf": "https://vignette.id/invoices/pdf/55729_awz4c1bawh_ext.pdf"
                  },
                  {
                    "plate": "BA4544XX",
                    "country": "ua",
                    "provider_id": "213308221928414692867",
                    "pdf": "https://vignette.id/invoices/pdf/55729_awz4c1bawh_ext.pdf"
                  }
                ],
                "purchase_date": 1692692847,
                "start_date": 1692655200,
                "end_date": 1693519199,
                "period": "10",
                "type": "vignette",
                "country": "hu",
                "status": "ACTIVE",
                "receipt": "https://vignette.id/invoices/pdf/55729_awz4c1bawh.pdf"
              },
              {
                "id": "m3lkr23ypd",
                "custom_id": "4902692691867",
                "user_id": "111awo2z1c",
                "cars": [
                  {
                    "plate": "C022KRU",
                    "country": "ro",
                    "provider_id": "T4LXSNL",
                    "pdf": "https://vignette.id/invoices/pdf/55725_byc2x8jyhn_ext.pdf"
                  }
                ],
                "purchase_date": 1692691932,
                "start_date": 1692655200,
                "end_date": 1693519199,
                "period": "10",
                "type": "vignette",
                "country": "cz",
                "status": "ACTIVE",
                "receipt": "https://vignette.id/invoices/pdf/55725_2gkkz18cn75.pdf"
              }
            ]
          }
        ]
      },
      "ResponseSuccessCancelPendingOrder": {
        "type": "object",
        "properties": {
          "error": {
            "type": "null"
          },
          "result": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string"
              }
            }
          }
        },
        "example": {
          "error": null,
          "result": {
            "message": "Pending order successfully canceled"
          }
        }
      },
      "ResponseErrorCancelPendingOrder": {
        "type": "object",
        "properties": {
          "error": {
            "type": "null"
          },
          "result": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string"
              }
            }
          }
        },
        "example": {
          "error": null,
          "result": {
            "message": "You already have orders that are approved"
          }
        }
      },
      "ResponseSuccessCancelFutureOrder": {
        "type": "object",
        "properties": {
          "error": {
            "type": "null"
          },
          "result": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string"
              }
            }
          }
        },
        "example": {
          "error": null,
          "result": {
            "message": "Future Order successfully canceled"
          }
        }
      },
      "OrderWithStatusWillBeActive": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            }
          }
        },
        "example": {
          "error": null,
          "result": {
            "type": "order_cant_be_canceled",
            "message": "Order is already activated in national provider"
          }
        }
      },
      "OrderWithStatusActive": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            }
          }
        },
        "example": {
          "error": null,
          "result": {
            "type": "order_cant_be_canceled",
            "message": "Order is already active"
          }
        }
      },
      "SchemaValidationError": {
        "type": "object",
        "required": [
          "type",
          "title",
          "status",
          "detail",
          "instance"
        ],
        "properties": {
          "type": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "status": {
            "type": "number"
          },
          "detail": {
            "type": "string"
          },
          "instance": {
            "type": "string"
          },
          "trace": {
            "type": "object"
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "examples": [
          {
            "type": "https://httpproblems.com/http-status/400",
            "title": "Bad Request",
            "status": 400,
            "detail": "Incoming body did not pass schema validation",
            "instance": "/v1/todos",
            "trace": {
              "timestamp": "2023-02-27T18:53:05.997Z",
              "requestId": "b1e1c2a9-da7b-436c-aa89-2f78918047b2",
              "buildId": "83e3d0f1-89a8-46ea-b040-e0a2432f2ea5",
              "rayId": "7a031f102747944d-SJC"
            },
            "errors": [
              "Body must have required property 'userId'"
            ]
          }
        ]
      },
      "NotFoundError": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "https://httpproblems.com/http-status/404"
          },
          "title": {
            "type": "string",
            "example": "Not Found"
          },
          "status": {
            "type": "integer",
            "example": 404
          },
          "instance": {
            "type": "string",
            "example": "/public/user/j28ho77yuh/orders"
          },
          "trace": {
            "type": "object",
            "properties": {
              "timestamp": {
                "type": "string",
                "format": "date-time",
                "example": "2023-07-03T20:37:37.958Z"
              },
              "requestId": {
                "type": "string",
                "example": "2e86c561-67d4-4830-891e-e0cf9e591912"
              },
              "buildId": {
                "type": "string",
                "example": "1dc83389-dacc-4868-92e9-1f684c59e229"
              },
              "rayId": {
                "type": "string",
                "example": "7e11ed6fc5ae0bdb-AMS"
              }
            }
          }
        }
      }
    }
  },
  "paths": {
    "/public/products": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "get": {
        "summary": "Products (vignettes and tunnels)",
        "description": "All available products (vignettes, tunnels, trains, ferries) for customers in 8 European countries",
        "x-zuplo-route": {
          "corsPolicy": "main-api-cors",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "e944b9b8-83e3-4d61-8b88-d5c6fe386102",
        "tags": [
          "Products List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/country"
          },
          {
            "$ref": "#/components/parameters/type"
          },
          {
            "$ref": "#/components/parameters/currency"
          }
        ],
        "responses": {
          "200": {
            "description": "Produscts description test",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllProductsObject"
                }
              }
            }
          },
          "default": {
            "description": "unexpected error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SchemaValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/public/products/status": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "get": {
        "summary": "Products / Status",
        "description": "Returns the status of national providers, as well as all products.",
        "x-zuplo-route": {
          "corsPolicy": "none",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "5a0e0453-7e3e-403c-bc42-f3d84d2852bc",
        "tags": [
          "Products List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/country"
          },
          {
            "$ref": "#/components/parameters/type"
          }
        ],
        "responses": {
          "200": {
            "description": "Produscts description test",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductsStatusObject"
                }
              }
            }
          },
          "default": {
            "description": "unexpected error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SchemaValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/public/users": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "get": {
        "summary": "Users",
        "description": "Returns an array of partner users who made at least 1 payment.",
        "x-zuplo-route": {
          "corsPolicy": "none",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ],
            "outbound": []
          }
        },
        "operationId": "8f60c186-5b98-4f6c-bb82-4fa2cf727128",
        "tags": [
          "Users List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Users description test",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllUsersObject"
                }
              }
            }
          },
          "400": {
            "description": "Your request could not be processed",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/UserNotFoundError"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/public/users/:id/orders": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "get": {
        "summary": "User Orders",
        "description": "An array of all vignettes for a specific user.",
        "x-zuplo-route": {
          "corsPolicy": "none",
          "handler": {
            "export": "urlRewriteHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "rewritePattern": "${env.BASE_URL}/public/users/${params.id}/orders"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "af8c28f2-da4f-41ae-9303-37104d89a5b5",
        "tags": [
          "Users List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/UserId"
          },
          {
            "$ref": "#/components/parameters/pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Users - orders description test",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllUserOrdersObject"
                }
              }
            }
          },
          "400": {
            "description": "Your request could not be processed",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/UserNotFoundError"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/public/orders": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "post": {
        "summary": "Create order",
        "description": "New **paid** order on partner side initiate request for processing in Vignette ID system.",
        "x-zuplo-route": {
          "corsPolicy": "main-api-cors",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "a5e610d2-d515-4f71-b8f3-e2a539405bd9",
        "tags": [
          "Orders List Endpoints"
        ],
        "requestBody": {
          "description": "Payload required to validate a vehicle plate.",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "../schemas/insert-order.json"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseOrderObject"
                }
              }
            }
          },
          "400": {
            "description": "Schema validation error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "examples": [
                      {
                        "error": {
                          "type": "auth_test",
                          "message": "The order would be created in production"
                        }
                      },
                      {
                        "error": {
                          "type": "pending_orders",
                          "message": "You already have orders that are being processed"
                        }
                      },
                      {
                        "error": {
                          "type": "invalid_custom_id",
                          "message": "Custom id already exists",
                          "index": 0
                        }
                      },
                      {
                        "error": {
                          "type": "invalid_payment_fee",
                          "message": "Invalid payment_fee"
                        }
                      },
                      {
                        "error": {
                          "type": "invalid_start_date",
                          "message": "Invalid product data",
                          "index": 0
                        }
                      },
                      {
                        "error": {
                          "type": "invalid_period",
                          "message": "Invalid product data",
                          "index": 0
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Get Orders",
        "description": "This endpoint allows you to obtain a list of all partner orders with all the necessary information about the order",
        "x-zuplo-route": {
          "corsPolicy": "none",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "39e18539-dc87-406b-8ece-bcd6b0367512",
        "tags": [
          "Orders List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/status"
          },
          {
            "$ref": "#/components/parameters/BugReport"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllOrdersObject"
                }
              }
            }
          },
          "400": {
            "description": "Schema validation error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "examples": [
                      {
                        "error": {
                          "type": "auth_test",
                          "message": "The order would be created in production"
                        }
                      },
                      {
                        "error": {
                          "type": "pending_orders",
                          "message": "You already have orders that are being processed"
                        }
                      },
                      {
                        "error": {
                          "type": "invalid_custom_id",
                          "message": "Custom id already exists",
                          "index": 0
                        }
                      },
                      {
                        "error": {
                          "type": "invalid_payment_fee",
                          "message": "Invalid payment_fee"
                        }
                      },
                      {
                        "error": {
                          "type": "invalid_start_date",
                          "message": "Invalid product data",
                          "index": 0
                        }
                      },
                      {
                        "error": {
                          "type": "invalid_period",
                          "message": "Invalid product data",
                          "index": 0
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/public/orders/:id": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "get": {
        "summary": "Get Order",
        "description": " • `id` - order id in Vignette ID system\n • `custom_id` - order id in Partner system\n • `provider_id` - unique vignette id in national (government) providers systems\n • `cars -> provider_id ` - unique vignette identificator in national provider system\n • `cars -> pdf ` - confirmation file from national provider system",
        "x-zuplo-route": {
          "corsPolicy": "main-api-cors",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "ffe09321-ef68-4f25-bf17-a8fa530a6618",
        "tags": [
          "Orders List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderIdOrCustomId"
          },
          {
            "$ref": "#/components/parameters/BugReport"
          }
        ],
        "responses": {
          "200": {
            "description": "Specific order description test",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderObject"
                }
              }
            }
          }
        },
        "additionalOperationContext": {
          "oasFilePath": "/config/routes.oas.json",
          "method": "get",
          "path": "/public/orders/:id",
          "pathZuploConfig": {
            "pathMode": "open-api"
          }
        }
      }
    },
    "/public/orders/:id/status": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "get": {
        "summary": "Get Order Status",
        "description": "Returns only the order status.\n Applicable in cases where you need to check only the status without other information. ",
        "x-zuplo-route": {
          "corsPolicy": "main-api-cors",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "4400136d-c3df-42e2-8fb9-f766ee4f51e4",
        "tags": [
          "Orders List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderIdOrCustomId"
          },
          {
            "$ref": "#/components/parameters/BugReport"
          }
        ],
        "responses": {
          "200": {
            "description": "Specific order description test",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderObject"
                }
              }
            }
          }
        }
      }
    },
    "/public/orders/:id/cancel": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "post": {
        "summary": "Cancel Pending Order (will be deprecated)",
        "description": "The ability to cancel an order that has a pending status if it is not processed within the specified time period\n\n • `PENDING` - only ",
        "x-zuplo-route": {
          "corsPolicy": "none",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "4a803090-9826-469c-9127-2dc09aca52c6",
        "tags": [
          "Orders List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderIdOrCustomId"
          },
          {
            "$ref": "#/components/parameters/BugReport"
          }
        ],
        "responses": {
          "200": {
            "description": "Specific order description test",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSuccessCancelPendingOrder"
                }
              }
            }
          },
          "400": {
            "description": "Your request could not be processed",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/OrderWithStatusWillBeActive"
                    },
                    {
                      "$ref": "#/components/schemas/OrderWithStatusActive"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/public/orders/:id/cancel-pending": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "post": {
        "summary": "Cancel Pending Order",
        "description": "The ability to cancel an order that has a `PENDING` status if it is not processed within the specified time period\n\n • `PENDING` - only ",
        "x-zuplo-route": {
          "corsPolicy": "none",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "3c7bca35-ec75-4462-b590-c0cbd78b8d0b",
        "tags": [
          "Orders List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderIdOrCustomId"
          },
          {
            "$ref": "#/components/parameters/BugReport"
          }
        ],
        "responses": {
          "200": {
            "description": "Specific order description test",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSuccessCancelPendingOrder"
                }
              }
            }
          },
          "400": {
            "description": "Your request could not be processed",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/OrderWithStatusWillBeActive"
                    },
                    {
                      "$ref": "#/components/schemas/OrderWithStatusActive"
                    }
                  ]
                }
              }
            }
          }
        },
        "additionalOperationContext": {
          "oasFilePath": "/config/routes.oas.json",
          "method": "post",
          "path": "/public/orders/:id/cancel-pending",
          "pathZuploConfig": {
            "pathMode": "open-api"
          }
        }
      }
    },
    "/public/orders/:id/cancel-future": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "post": {
        "summary": "Cancel Future Order",
        "description": "The ability to cancel an order that has a `FUTURE` status if it is not processed within the specified time period\n\n • `FUTURE` - only ",
        "x-zuplo-route": {
          "corsPolicy": "none",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "16f4c37e-3bce-4a9e-9aa0-0401a53b37f0",
        "tags": [
          "Orders List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderIdOrCustomId"
          },
          {
            "$ref": "#/components/parameters/BugReport"
          }
        ],
        "responses": {
          "200": {
            "description": "Specific order description test",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSuccessCancelFutureOrder"
                }
              }
            }
          },
          "400": {
            "description": "Your request could not be processed",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/OrderWithStatusWillBeActive"
                    },
                    {
                      "$ref": "#/components/schemas/OrderWithStatusActive"
                    }
                  ]
                }
              }
            }
          }
        },
        "additionalOperationContext": {
          "oasFilePath": "/config/routes.oas.json",
          "method": "post",
          "path": "/public/orders/:id/cancel-future",
          "pathZuploConfig": {
            "pathMode": "open-api"
          }
        }
      }
    },
    "/public/validate-vehicle": {
      "x-zuplo-path": {
        "pathMode": "open-api"
      },
      "post": {
        "summary": "Validate vehicles",
        "description": "Possibility to check the vehicle number according to the selected country. \n\n [A list of acceptable vehicle registration countries codes](/docs/routes/countries) in two letter format like `at`, `cz`, `pl`, `ua`... ",
        "x-zuplo-route": {
          "corsPolicy": "main-api-cors",
          "handler": {
            "export": "urlForwardHandler",
            "module": "$import(@zuplo/runtime)",
            "options": {
              "baseUrl": "${env.BASE_URL}"
            }
          },
          "policies": {
            "inbound": [
              "request-validation-inbound",
              "partner-api-key",
              "partner-policy-key"
            ]
          }
        },
        "operationId": "a1f9297e-c96d-42c6-8600-b807f55a9572",
        "tags": [
          "Extended List Endpoints"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/BugReport"
          }
        ],
        "requestBody": {
          "description": "Payload required to validate a vehicle plate.",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "../schemas/validate-vehicle-plate.json"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseValidatePlateObject"
                }
              }
            }
          },
          "400": {
            "description": "Schema validation error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "examples": [
                      {
                        "error": {
                          "type": "invalid_cars",
                          "message": "Invalid car data",
                          "index": 0
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}